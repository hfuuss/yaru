(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{EDuE:function(e,t,a){e.exports={normal:"normal___HWRKS",welcome:"welcome___Hx9vE",list:"list___1QtXr"}},RXBc:function(e,t,a){"use strict";a.r(t);var s=a("q1tI"),i=a.n(s),n=a("EDuE"),r=a.n(n),o=a("L5c0"),c=(a("1Edj"),a("Ee0d")),l=(a("x/uF"),a("zr2O")),p=(a("cgt6"),a("aRya")),h=a("U1Sa"),m=a.n(h),u=(a("Im/E"),a("lCpv")),d=(a("EMia"),a("ujxS")),y=(a("U3G+"),a("Q2qM")),E=(a("uei7"),a("1bGt")),f=a("X6iG"),g=a("a/LZ"),k=a.n(g),b=a("9AHN"),v=a("Py4S"),x=a.n(v),C=a("O/BO"),K=a.n(C),w=a("fus+"),T=a.n(w),$=(e,t,a)=>{var s=JSON.stringify(a),i=K.a.encode(s),n=T.a.HmacSHA1(i,t),r=n.toString(T.a.enc.Base64),o=e+":"+D(r)+":"+i;return o},D=function(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e},N=$,S=E["a"].Dragger,_=y["a"].Meta;class j extends s["Component"]{constructor(e){super(e),this.onClipClick=(e=>{d["a"].success(`copy ${e} success!`)}),this.pasetEvent=(e=>{var t=e.clipboardData&&e.clipboardData.items;if(t&&t.length)for(var a=0;a<t.length;a++)if(-1!==t[a].type.indexOf("image")){this.pastFile=t[a].getAsFile(),this.uploadFile(this.pastFile);break}}),this.observer={next:e=>{this.setState({percent:e.total.percent})},error:e=>{d["a"].error("\u8bf7\u67e5\u770b\u914d\u7f6e\u662f\u5426\u6b63\u786e"),d["a"].error(e.message)},complete:e=>{d["a"].success("\u4e0a\u4f20\u6210\u529f\uff01"),this.setState(t=>({fileList:t.fileList.concat(`${this.host}${e.key}`)}))}},this.updateToken=(()=>{this.fileName=`${k()().format("YY-MM-DD")}-${k()().format("x").slice(k()().format("x").length-6,k()().format("x"))}.jpg`,this.putPolicy={scope:`${this.bucket}:${this.fileName}`,deadline:k()().add(1,"day").unix()},this.uploadToken=N(this.accessKey,this.secretKey,this.putPolicy)}),this.uploadFile=(e=>{this.updateToken(),this.setState({percent:0});var t=f["upload"](e,this.fileName,this.uploadToken,{},{});t.subscribe(this.observer)}),this.state={fileList:[],draggerProps:{directory:!1,multiple:!0,showUploadList:!1},percent:0},this.pastFile=null,this.accessKey=this.props.accessKey,this.secretKey=this.props.secretKey,this.bucket=this.props.bucket,this.host=this.props.host,this.fileName=`${k()().format("YYYY-MM-DD")}-${k()().unix()}.jpg`,this.putPolicy={scope:`${this.bucket}:${this.fileName}`,deadline:k()().add(1,"day").unix()},this.uploadToken=N(this.accessKey,this.secretKey,this.putPolicy)}componentDidMount(){document.addEventListener("paste",this.pasetEvent)}componentWillUnmount(){document.removeEventListener("paste",this.pasetEvent)}render(){var e=this.props,t=e.accessKey,a=e.secretKey,s=e.bucket,n=e.host,r=this.state,o=r.draggerProps,h=r.fileList;return this.accessKey=t,this.secretKey=a,this.bucket=s,this.host=n,i.a.createElement(i.a.Fragment,null,i.a.createElement(p["a"],{type:"flex",justify:"space-around"},i.a.createElement(S,m()({},o,{customRequest:e=>this.uploadFile(e.file),style:{padding:20}}),i.a.createElement("p",{className:"ant-upload-drag-icon"},i.a.createElement(u["a"],{type:"inbox"})),i.a.createElement("p",{className:"ant-upload-text"},"\u622a\u56fe\u540e\u7c98\u8d34\u3001\u5355\u51fb\u6216\u62d6\u52a8\u6587\u4ef6\u5230\u6b64\u533a\u57df\u8fdb\u884c\u4e0a\u4f20"),i.a.createElement("p",{className:"ant-upload-hint"},"\u652f\u6301\u5355\u4e2a\u6216\u6279\u91cf\u4e0a\u4f20\u3002"))),i.a.createElement(l["a"],{percent:this.state.percent,style:{width:"375px"}}),i.a.createElement(p["a"],{type:"flex",justify:"space-around",style:{marginTop:20,flexWrap:"wrap",alignContent:"space-around"}},h.map(e=>{return i.a.createElement(y["a"],{key:e,bordered:!0,hoverable:!0,style:{width:240},cover:i.a.createElement(x.a,{src:e,alt:e}),actions:[i.a.createElement(b["CopyToClipboard"],{text:e,onCopy:()=>this.onClipClick("link")},i.a.createElement(c["a"],{placement:"topRight",title:"copy"},i.a.createElement(u["a"],{type:"copy"}))),i.a.createElement(b["CopyToClipboard"],{text:`![](${e})`,onCopy:()=>this.onClipClick("markdown")},i.a.createElement(c["a"],{placement:"topRight",title:"cpoy markdown"},i.a.createElement(u["a"],{type:"file-markdown"}))),i.a.createElement(b["CopyToClipboard"],{text:"\u5c0f\u5c0f \u5c0f\u516c\u4e3b\u6700\u6f02\u4eae",onCopy:()=>this.onClipClick("\u5c0f\u516c\u4e3b")},i.a.createElement(c["a"],{placement:"rightTop",title:"\u5c0f\u5c0f \u5c0f\u516c\u4e3b\u6700\u6f02\u4eae"},i.a.createElement(u["a"],{type:"heart",theme:"twoTone",twoToneColor:"#eb2f96"})))]},i.a.createElement(_,{title:"\u56fe\u7247\u94fe\u63a5",description:i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e)}))})))}}var F=Object(o["connect"])(e=>({accessKey:e.config.accessKey,secretKey:e.config.secretKey,bucket:e.config.bucket,host:e.config.host}))(j),L=e=>{return{menukey:e.menu.menukey}};t["default"]=Object(o["connect"])(L)(e=>{return i.a.createElement("div",{className:r.a.normal},"home"===e.menukey&&i.a.createElement("div",null,i.a.createElement(F,null)),"myupload"===e.menukey&&i.a.createElement("div",null,"\u6211\u7684\u4e0a\u4f20\uff0c\u8fd8\u6728\u6709\u627e\u5230\u524d\u7aefjs\u7684SDK\uff0c\u8fd8\u5f97\u81ea\u5df1\u5199token\u751f\u6210\u7b97\u6cd5\u3002\u4e4b\u540e\u518d\u5f00\u53d1\u5427\u3002"))})}}]);